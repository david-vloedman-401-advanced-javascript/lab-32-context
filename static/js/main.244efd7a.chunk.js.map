{"version":3,"sources":["components/modal/modal.module.scss","components/auth/context.js","hooks/fetch.js","components/if/index.js","hooks/form.js","components/todo/form.js","components/settings.js","components/auth/auth.js","components/todo/list.js","components/modal/index.js","components/todo/item.js","components/todo/todo.js","components/auth/login.js","app.js","index.js"],"names":["module","exports","modalHead","modal","LoginContext","React","createContext","LoginProvider","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","login","token","cookie","save","setLoginState","logout","remove","loggedIn","load","setState","qs","URLSearchParams","window","location","search","cookieToken","get","state","react_default","a","createElement","Provider","value","children","Component","useFetch","_useState","useState","_useState2","slicedToArray","requestObject","request","_useState3","_useState4","response","setResponse","_useState5","_useState6","error","setError","_useState7","_useState8","isLoading","setIsLoading","useEffect","_ref","asyncToGenerator","regenerator_default","mark","_callee","res","json","wrap","_context","prev","next","abrupt","options","headers","Content-Type","fetch","url","sent","t0","stop","apply","arguments","fetchData","render","condition","length","undefined","If","Children","map","child","cloneElement","Then","When","useForm","callback","values","setValues","handleChange","event","persist","objectSpread2","defineProperty","target","name","handleSubmit","preventDefault","TodoForm","_useForm","Fragment","onSubmit","placeholder","onChange","type","min","max","SettingsContext","SettingsProvider","hideCompleted","setHideCompleted","pageSize","setPageSize","Auth","okToRender","user","context","jwt","verify","capability","capabilities","includes","e","auth_If","contextType","TodoList","list","useContext","pages","push","i","page","slice","filter","item","complete","className","concat","toString","key","_id","auth","onClick","handleComplete","text","handleDetails","handleDelete","if_If","Modal","styles","title","close","Item","id","assignee","due","todoAPI","ToDo","todoList","setToDoList","showDetails","setShowDetails","showItem","setShowItem","_useFetch","document","_toggleDetails","_getAll","method","count","results","todo_form","addRequest","body","JSON","stringify","todo_list","updateRequest","deleteRequest","todo_item","API","Login","superagent","post","username","password","set","then","catch","err","console","login_If","App","settings","todo_todo","rootElement","getElementById","ReactDOM","auth_context"],"mappings":"6EACAA,EAAAC,QAAA,CAAkBC,UAAA,yBAAAC,MAAA,2TCGLC,EAAeC,IAAMC,gBAuDnBC,cAjDb,SAAAA,EAAYC,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAmBRQ,MAAQ,SAAAC,GACNC,IAAOC,KAAK,OAAQF,GACpBR,EAAKW,eAAc,IAtBFX,EA2BnBY,OAAS,WACPH,IAAOI,OAAO,QACdb,EAAKW,eAAc,IA7BFX,EAmCnBW,cAAgB,SAAAG,GACd,IAAIN,EAAQC,IAAOM,KAAK,QACxBf,EAAKgB,SAAS,CAAER,QAAOM,cAnCvB,IAAMG,EAAK,IAAIC,gBAAgBC,OAAOC,SAASC,QACzCC,EAAcb,IAAOM,KAAK,QAC1BP,EAAQS,EAAGM,IAAI,UAAYD,GAAe,KAJ/B,OAQjBtB,EAAKwB,MAAQ,CACXV,WAAYN,EACZA,MAAOA,EACPD,MAAOP,EAAKO,MACZK,OAAQZ,EAAKY,QAZEZ,wEAyCjB,OACEyB,EAAAC,EAAAC,cAAChC,EAAaiC,SAAd,CAAuBC,MAAO1B,KAAKqB,OAChCrB,KAAKJ,MAAM+B,iBA5CQlC,IAAMmC,4CC4BnBC,EAnCE,WAAM,IAAAC,EACYC,mBAAS,MADrBC,EAAAlC,OAAAmC,EAAA,EAAAnC,CAAAgC,EAAA,GACdI,EADcF,EAAA,GACCG,EADDH,EAAA,GAAAI,EAEWL,mBAAS,IAFpBM,EAAAvC,OAAAmC,EAAA,EAAAnC,CAAAsC,EAAA,GAEdE,EAFcD,EAAA,GAEJE,EAFIF,EAAA,GAAAG,EAGKT,mBAAS,MAHdU,EAAA3C,OAAAmC,EAAA,EAAAnC,CAAA0C,EAAA,GAGdE,EAHcD,EAAA,GAGPE,EAHOF,EAAA,GAAAG,EAIab,oBAAS,GAJtBc,EAAA/C,OAAAmC,EAAA,EAAAnC,CAAA8C,EAAA,GAIdE,EAJcD,EAAA,GAIHE,EAJGF,EAAA,GAgCrB,OAzBAG,oBAAU,YAIO,eAAAC,EAAAnD,OAAAoD,EAAA,EAAApD,CAAAqD,EAAA5B,EAAA6B,KAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,EAAA5B,EAAAiC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAEXzB,EAFW,CAAAuB,EAAAE,KAAA,eAAAF,EAAAG,OAAA,wBAKhBb,GAAa,GALGU,EAAAC,KAAA,EAOdxB,EAAc2B,QAAQC,QAAU,CAAEC,eAAgB,oBAPpCN,EAAAE,KAAA,EASIK,MAAM9B,EAAc+B,IAAK/B,EAAc2B,SAT3C,cASRP,EATQG,EAAAS,KAAAT,EAAAE,KAAA,GAUKL,EAAIC,OAVT,QAURA,EAVQE,EAAAS,KAWd3B,EAAYgB,GACZR,GAAa,GAZCU,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAU,GAAAV,EAAA,SAcdd,EAAQc,EAAAU,IAdM,yBAAAV,EAAAW,SAAAf,EAAA,kBAAH,yBAAAJ,EAAAoB,MAAArE,KAAAsE,YAAA,EAiBfC,IACC,CAACrC,IAGG,CAAEC,UAASG,WAAUI,QAAOI,cChC/B0B,EAAS,WAAwC,IAAvCC,EAAuCH,UAAAI,OAAA,QAAAC,IAAAL,UAAA,IAAAA,UAAA,GAApB3C,EAAoB2C,UAAAI,OAAA,QAAAC,IAAAL,UAAA,GAAAA,UAAA,GAAT,KAC5C,OAAOG,EAAY9C,EAAW,MAGnBiD,EAAK,SAAAhF,GAAK,OACrBH,IAAMoF,SAASC,IAAIlF,EAAM+B,SAAU,SAAAoD,GAAK,OACtCtF,IAAMuF,aAAaD,EAAO,CAAEN,UAAW7E,EAAM6E,eAGpCQ,EAAO,SAAArF,GAAK,OAAI4E,EAAO5E,EAAM6E,UAAW7E,EAAM+B,WAQ9CuD,EAAO,SAAAtF,GAAK,OAAI4E,EAAO5E,EAAM6E,UAAW7E,EAAM+B,4BCM5CwD,EAvBC,SAAAC,GAAY,IAAAtD,EACEC,mBAAS,IADXC,EAAAlC,OAAAmC,EAAA,EAAAnC,CAAAgC,EAAA,GACnBuD,EADmBrD,EAAA,GACXsD,EADWtD,EAAA,GAgB1B,MAAO,CACLuD,aATmB,SAAAC,GACnBA,EAAMC,UACNH,EAAU,SAAAD,GAAM,OAAAvF,OAAA4F,EAAA,EAAA5F,CAAA,GACXuF,EADWvF,OAAA6F,EAAA,EAAA7F,CAAA,GAEb0F,EAAMI,OAAOC,KAAOL,EAAMI,OAAOlE,WAMpCoE,aAfmB,SAAAN,GACfA,GAAOA,EAAMO,iBACjBX,EAASC,IAcTA,WC0BWW,EAxCE,SAAApG,GAAS,IAAAqG,EACed,EAAQvF,EAAMkG,cAA7CP,EADgBU,EAChBV,aAAcO,EADEG,EACFH,aAEtB,OACExE,EAAAC,EAAAC,cAAAF,EAAAC,EAAA2E,SAAA,KACE5E,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,QAAM2E,SAAUL,GACdxE,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SACEqE,KAAK,OACLO,YAAY,sBACZC,SAAUd,KAGdjE,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,SACE8E,KAAK,QACLC,IAAI,IACJC,IAAI,IACJX,KAAK,aACLQ,SAAUd,KAGdjE,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,SACE8E,KAAK,OACLT,KAAK,WACLO,YAAY,cACZC,SAAUd,KAGdjE,EAAAC,EAAAC,cAAA,6BCvCKiF,EAAkBhH,IAAMC,gBAuBtBgH,MAlBf,SAA0B9G,GAAM,IAAAkC,EACYC,oBAAS,GADrBC,EAAAlC,OAAAmC,EAAA,EAAAnC,CAAAgC,EAAA,GACvB6E,EADuB3E,EAAA,GACR4E,EADQ5E,EAAA,GAAAI,EAEEL,mBAAS,GAFXM,EAAAvC,OAAAmC,EAAA,EAAAnC,CAAAsC,EAAA,GAIxBf,EAAQ,CACZsF,gBACAE,SAN4BxE,EAAA,GAO5BuE,mBACAE,YAR4BzE,EAAA,IAW9B,OACEf,EAAAC,EAAAC,cAACiF,EAAgBhF,SAAjB,CAA0BC,MAAOL,GAC9BzB,EAAM+B,WChBPiD,EAAK,SAAAhF,GACT,OAASA,EAAM6E,UAAY7E,EAAM+B,SAAW,MAOxCoF,mLAIF,IAAIC,GAAa,EACbC,EAAO,GAEX,IACEA,EAAOjH,KAAKkH,QAAQ7G,MAChB8G,IAAIC,OAAOpH,KAAKkH,QAAQ7G,MAAO,eAC/B,GAGJ2G,EACEhH,KAAKkH,QAAQvG,YACZX,KAAKJ,MAAMyH,YACRJ,EAAKK,aAAaC,SAASvH,KAAKJ,MAAMyH,aAE5C,MAAOG,IAET,OACElG,EAAAC,EAAAC,cAACiG,EAAD,CAAIhD,UAAWuC,GACb1F,EAAAC,EAAAC,cAAA,WAAMxB,KAAKJ,MAAM+B,kBAtBNlC,IAAMmC,WAAnBmF,EACGW,YAAclI,EA2BRuH,QCsDAY,EAnFE,SAAA/H,GACf,IAAMgI,EAAOhI,EAAMgI,MAAQ,GACrBV,EAAUW,qBAAWpB,GACrBI,EAAWK,EAAQL,SACnBiB,EAAQ,GAgBd,OAZA9E,oBAAU,WACD4E,EAAKlD,OAASmC,GACjBiB,EAAMC,KAAKH,GAEb,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAKlD,OAAQsD,GAAKnB,EAAU,CAC9C,IAAIoB,EAAOL,EAAKM,MAAMF,EAAGA,EAAInB,GAC7BiB,EAAMC,KAAKE,MAOf3G,EAAAC,EAAAC,cAAA,UAEEF,EAAAC,EAAAC,cAAC0D,EAAD,CAAMT,WAAYyC,EAAQP,eACvBiB,EACEO,OAAO,SAAAC,GAAI,OAAKA,EAAKC,WACrBvD,IAAI,SAAAsD,GAAI,OACP9G,EAAAC,EAAAC,cAAA,MACE8G,UAAS,YAAAC,OAAcH,EAAKC,SAASG,YACrCC,IAAKL,EAAKM,KAEVpH,EAAAC,EAAAC,cAACmH,EAAD,CAAMtB,WAAW,QACf/F,EAAAC,EAAAC,cAAA,QAAMoH,QAAS,kBAAMhJ,EAAMiJ,eAAeT,EAAKM,OAC5CN,EAAKU,OAIVxH,EAAAC,EAAAC,cAAA,UAAQoH,QAAS,kBAAMhJ,EAAMmJ,cAAcX,EAAKM,OAAhD,WAGApH,EAAAC,EAAAC,cAACmH,EAAD,CAAMtB,WAAW,UACf/F,EAAAC,EAAAC,cAAA,UAAQoH,QAAS,kBAAMhJ,EAAMoJ,aAAaZ,EAAKM,OAA/C,eAOVpH,EAAAC,EAAAC,cAAC0D,EAAD,CAAMT,UAAWyC,EAAQP,eACtBiB,EAAK9C,IAAI,SAAAsD,GAAI,OACZ9G,EAAAC,EAAAC,cAAA,MAAI8G,UAAS,YAAAC,OAAcH,EAAKC,SAASG,YAAcC,IAAKL,EAAKM,KAC/DpH,EAAAC,EAAAC,cAACmH,EAAD,CAAMtB,WAAW,QACf/F,EAAAC,EAAAC,cAAA,QAAMoH,QAAS,kBAAMhJ,EAAMiJ,eAAeT,EAAKM,OAC5CN,EAAKU,OAIVxH,EAAAC,EAAAC,cAAA,UAAQoH,QAAS,kBAAMhJ,EAAMmJ,cAAcX,EAAKM,OAAhD,WAGApH,EAAAC,EAAAC,cAACmH,EAAD,CAAMtB,WAAW,UACf/F,EAAAC,EAAAC,cAAA,UAAQoH,QAAS,kBAAMhJ,EAAMoJ,aAAaZ,EAAKM,OAA/C,eAORpH,EAAAC,EAAAC,cAAA,UACEqE,KAAK,mBACL+C,QAAS,kBAAM1B,EAAQN,kBAAkBM,EAAQP,iBAFnD,oBAMArF,EAAAC,EAAAC,cAACyH,EAAD,CAAIxE,UAAWqD,EAAMpD,OAAS,GAC5BpD,EAAAC,EAAAC,cAACyD,EAAD,KACE3D,EAAAC,EAAAC,cAAA,UAAQqE,KAAK,QAAb,8BCtEKqD,EAbD,SAAAtJ,GACZ,OACE0B,EAAAC,EAAAC,cAAA,OAAK8G,UAAWa,IAAO5J,OACrB+B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,QAAM8G,UAAU,SAAS1I,EAAMwJ,OAC/B9H,EAAAC,EAAAC,cAAA,UAAQoH,QAAShJ,EAAMyJ,OAAvB,MAEF/H,EAAAC,EAAAC,cAAA,WAAM5B,EAAM+B,aCUL2H,EAhBF,SAAA1J,GACX,IAAMwI,EAAOxI,EAAMwI,MAAQ,GAE3B,OACE9G,EAAAC,EAAAC,cAACjC,EAAD,CAAO6J,MAAM,aAAaC,MAAOzJ,EAAMmJ,eACrCzH,EAAAC,EAAAC,cAAA,OAAK8G,UAAU,gBACbhH,EAAAC,EAAAC,cAAA,UAAQ+H,GAAG,aACTjI,EAAAC,EAAAC,cAAA,4BAAoB4G,EAAKoB,UACzBlI,EAAAC,EAAAC,cAAA,oBAAY4G,EAAKqB,MAEnBnI,EAAAC,EAAAC,cAAA,OAAK8G,UAAU,QAAQF,EAAKU,SCJ9BY,UAAU,+CAyIDC,EArIF,WAAM,IAAA7H,EACeC,mBAAS,IADxBC,EAAAlC,OAAAmC,EAAA,EAAAnC,CAAAgC,EAAA,GACV8H,EADU5H,EAAA,GACA6H,EADA7H,EAAA,GAAAI,EAEqBL,oBAAS,GAF9BM,EAAAvC,OAAAmC,EAAA,EAAAnC,CAAAsC,EAAA,GAEV0H,EAFUzH,EAAA,GAEG0H,EAFH1H,EAAA,GAAAG,EAGeT,mBAAS,IAHxBU,EAAA3C,OAAAmC,EAAA,EAAAnC,CAAA0C,EAAA,GAGVwH,EAHUvH,EAAA,GAGAwH,EAHAxH,EAAA,GAAAyH,EAM+BrI,IAAxCM,EANS+H,EAMT/H,QAASG,EANA4H,EAMA5H,SAEX4E,GARWgD,EAMUxH,MANVwH,EAMiBpH,UAElB+E,qBAAWpB,IAiB3BzD,oBAAU,WACRmH,SAASf,MAAT,GAAAb,OAAoBqB,EAASzB,OAAO,SAAAC,GAAI,OAAKA,EAAKC,WAAU3D,OAA5D,wBAMF,IA6BM0F,EAAiB,SAAAb,GACrBQ,GAAgBD,GAChB,IAAI1B,EAAOwB,EAASzB,OAAO,SAAAC,GAAI,OAAIA,EAAKM,MAAQa,IAAI,GACpDU,EAAY7B,IAMRiC,EAAU,WAOdlI,EANY,CACV8B,IAAKyF,EACL7F,QAAS,CACPyG,OAAQ,UAuBd,OAhBAtH,oBAAU,WACRqH,KACC,IAGHrH,oBAAU,WAEJV,EAASiI,OAAS,EACpBV,EAAYvH,EAASkI,SAIrBH,KAED,CAAC/H,IAGFhB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA2E,SAAA,KACE5E,EAAAC,EAAAC,cAACmH,EAAD,CAAMtB,WAAW,QACf/F,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,uBACaoI,EAASzB,OAAO,SAAAC,GAAI,OAAKA,EAAKC,WAAU3D,OADrD,wBAMJpD,EAAAC,EAAAC,cAACmH,EAAD,KACErH,EAAAC,EAAAC,cAAA,WAAS8G,UAAU,QACjBhH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACmH,EAAD,CAAMtB,WAAW,UACf/F,EAAAC,EAAAC,cAACiJ,EAAD,CAAU3E,aAlGL,SAAAsC,GACf,IAAMsC,EAAa,CACjBzG,IAAKyF,EACL7F,QAAS,CACPyG,OAAQ,OACRK,KAAMC,KAAKC,UAAUzC,KAIzBjG,EAAQuI,QA6FFpJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACsJ,EAAD,CACElD,KAAMgC,EACN1C,QAASA,EACT2B,eA1EY,SAAAU,GACtB,IAAInB,EAAOwB,EAASzB,OAAO,SAAAH,GAAC,OAAIA,EAAEU,MAAQa,IAAI,IAAM,GACpDnB,EAAKC,UAAYD,EAAKC,SACtB,IAAM0C,EAAgB,CACpB9G,IAAG,GAAAsE,OAAKmB,EAAL,KAAAnB,OAAgBgB,GACnB1F,QAAS,CACPyG,OAAQ,MACRK,KAAMC,KAAKC,UAAUzC,KAGzBjG,EAAQ4I,IAiEE/B,aAxFQ,SAAAO,GAClB,IAAMyB,EAAgB,CACpB/G,IAAG,GAAAsE,OAAKmB,EAAL,KAAAnB,OAAgBgB,GACnB1F,QAAS,CACPyG,OAAQ,WAGZnI,EAAQ6I,IAkFEjC,cAAeqB,OAKvB9I,EAAAC,EAAAC,cAAC0D,EAAD,CAAMT,UAAWqF,GACfxI,EAAAC,EAAAC,cAACyJ,EAAD,CAAUlC,cAAeqB,EAAgBhC,KAAM4B,yBC1IjDkB,EAAM,kCAENtG,EAAK,SAAAhF,GACT,OAASA,EAAM6E,UAAY7E,EAAM+B,SAAW,MAMxCwJ,cAEJ,SAAAA,EAAYvL,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmL,IACjBtL,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqL,GAAAhL,KAAAH,KAAMJ,KAIR2F,aAAe,SAAAiC,GACb3H,EAAKgB,SAALf,OAAA6F,EAAA,EAAA7F,CAAA,GAAiB0H,EAAE5B,OAAOC,KAAO2B,EAAE5B,OAAOlE,SANzB7B,EAYnBiG,aAAe,SAAA0B,GAGbA,EAAEzB,iBACFqF,IACGC,KADH,GAAA9C,OACW2C,EADX,YAEGvC,KAAK9I,EAAKwB,MAAMiK,SAAUzL,EAAKwB,MAAMkK,UACrCC,IAAI,OAAQ,QACZC,KAAK,SAAAnJ,GACJ,IAAIjC,EAAQiC,EAASwG,KACrBjJ,EAAKqH,QAAQ9G,MAAMC,KAEpBqL,MAAM,SAAAC,GAAG,OAAIC,QAAQlJ,MAAMiJ,MAtB9B9L,EAAKwB,MAAQ,CAAEiK,SAAU,GAAIC,SAAU,IAFtB1L,wEA4BjB,OACEyB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA2E,SAAA,KACE5E,EAAAC,EAAAC,cAAA,OAAK+H,GAAG,SACNjI,EAAAC,EAAAC,cAACqK,EAAD,CAAIpH,UAAWzE,KAAKkH,QAAQvG,UAC1BW,EAAAC,EAAAC,cAAA,UAAQoH,QAAS5I,KAAKkH,QAAQzG,QAA9B,aAEFa,EAAAC,EAAAC,cAACqK,EAAD,CAAIpH,WAAYzE,KAAKkH,QAAQvG,UAC3BW,EAAAC,EAAAC,cAAA,MAAI+H,GAAG,UAAP,qBACAjI,EAAAC,EAAAC,cAAA,QAAM2E,SAAUnG,KAAK8F,cACnBxE,EAAAC,EAAAC,cAAA,SACE4E,YAAY,WACZP,KAAK,WACLQ,SAAUrG,KAAKuF,eAEjBjE,EAAAC,EAAAC,cAAA,SACE4E,YAAY,WACZP,KAAK,WACLQ,SAAUrG,KAAKuF,eAEjBjE,EAAAC,EAAAC,cAAA,SAAO8E,KAAK,SAAS5E,MAAM,qBAjDrBjC,IAAMmC,WAApBuJ,EACGzD,YAAclI,EAyDR2L,QChEA,SAASW,IACtB,OACExK,EAAAC,EAAAC,cAAAF,EAAAC,EAAA2E,SAAA,KACE5E,EAAAC,EAAAC,cAACuK,EAAD,KACEzK,EAAAC,EAAAC,cAACpB,EAAD,MAEEkB,EAAAC,EAAAC,cAACwK,EAAD,QCCV,IAAMC,EAAc9B,SAAS+B,eAAe,QAC5CC,IAAS3H,OAAOlD,EAAAC,EAAAC,cAVhB,WAEE,OACEF,EAAAC,EAAAC,cAAC4K,EAAD,KACE9K,EAAAC,EAAAC,cAACsK,EAAD,QAMU,MAAUG","file":"static/js/main.244efd7a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalHead\":\"modal_modalHead__ePqQ8\",\"modal\":\"modal_modal__2bhYs\"};","import React from 'react';\nimport jwt from 'jsonwebtoken';\nimport cookie from 'react-cookies';\n\nexport const LoginContext = React.createContext();\n/**\n * A context component for the authentication and authorization\n * @class LoginProvider\n */\nclass LoginProvider extends React.Component {\n  constructor(props) {\n    super(props);\n    const qs = new URLSearchParams(window.location.search);\n    const cookieToken = cookie.load('auth');\n    const token = qs.get('token') || cookieToken || null;\n\n    \n\n    this.state = {\n      loggedIn: !!token,\n      token: token,\n      login: this.login,\n      logout: this.logout\n    };\n    \n  }\n  /**\n   * Handles credentials when logging in\n   * @params token\n   */\n  login = token => {\n    cookie.save('auth', token);\n    this.setLoginState(true);\n  };\n  /**\n   *  Handles removal of creditentials when logging out\n   */\n  logout = () => {\n    cookie.remove('auth');\n    this.setLoginState(false);\n  };\n  /**\n   * Handles state changes regarding login status\n   * @params loggedIn\n   */\n  setLoginState = loggedIn => {\n    let token = cookie.load('auth');\n    this.setState({ token, loggedIn });\n  };\n\n  render() {\n    return (\n      <LoginContext.Provider value={this.state}>\n        {this.props.children}\n      </LoginContext.Provider>\n    );\n  }\n}\n\nexport default LoginProvider;\n","import { useState, useEffect } from \"react\";\r\n\r\nconst useFetch = () => {\r\n  const [requestObject, request] = useState(null);\r\n  const [response, setResponse] = useState({});\r\n  const [error, setError] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  \r\n  useEffect(() => {\r\n    /**\r\n     *  A custom react hook to handle the API calls\r\n     */\r\n    const fetchData = async () => {\r\n      \r\n      if (!requestObject) {\r\n        return;\r\n      }\r\n      setIsLoading(true); \r\n      try {        \r\n        requestObject.options.headers = { \"Content-Type\": \"application/json\" };\r\n        \r\n        const res = await fetch(requestObject.url, requestObject.options);\r\n        const json = await res.json();\r\n        setResponse(json);\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        setError(error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [requestObject]);\r\n\r\n  \r\n  return { request, response, error, isLoading };\r\n};\r\n\r\nexport default useFetch;\r\n","import React from \"react\";\r\n\r\nconst render = (condition = false, children = null) => {\r\n  return condition ? children : null;\r\n};\r\n\r\nexport const If = props =>\r\n  React.Children.map(props.children, child =>\r\n    React.cloneElement(child, { condition: props.condition })\r\n  );\r\n\r\nexport const Then = props => render(props.condition, props.children);\r\nexport const Else = props => render(!props.condition, props.children);\r\n\r\n/*\r\n<When condition={true}>\r\n  <h2>When Works</h2>\r\n</When>\r\n*/\r\nexport const When = props => render(props.condition, props.children);\r\n\r\n/*\r\n<Unless condition={administrator}>\r\n  Pay more $$ and we will make you an admin\r\n</Unless>\r\n*/\r\nexport const Unless = props => render(!props.condition, props.children);\r\n","import { useState } from \"react\";\r\n\r\nconst useForm = callback => {\r\n  const [values, setValues] = useState({});\r\n\r\n  const handleSubmit = event => {\r\n    if (event) event.preventDefault();\r\n    callback(values);\r\n  };\r\n\r\n  const handleChange = event => {\r\n    event.persist();\r\n    setValues(values => ({\r\n      ...values,\r\n      [event.target.name]: event.target.value\r\n    }));\r\n  };\r\n\r\n  return {\r\n    handleChange,\r\n    handleSubmit,\r\n    values\r\n  };\r\n};\r\n\r\nexport default useForm;\r\n","import React from \"react\";\r\nimport useForm from \"../../hooks/form.js\";\r\n\r\n/**\r\n * A component for the input form for item creation\r\n * @param {*} props \r\n */\r\nconst TodoForm = props => {\r\n  const { handleChange, handleSubmit } = useForm(props.handleSubmit);\r\n\r\n  return (\r\n    <>\r\n      <h3>Add Item</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>To Do Item</span>\r\n          <input\r\n            name=\"text\"\r\n            placeholder=\"Add To Do List Item\"\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Difficulty Rating</span>\r\n          <input\r\n            type=\"range\"\r\n            min=\"1\"\r\n            max=\"5\"\r\n            name=\"difficulty\"\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Assigned To</span>\r\n          <input\r\n            type=\"text\"\r\n            name=\"assignee\"\r\n            placeholder=\"Assigned To\"\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <button>Add Item</button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TodoForm;\r\n","import React, {useState} from 'react';\n\nexport const SettingsContext = React.createContext();\n/**\n * Context for application settings\n * @param {*} props \n */\nfunction SettingsProvider(props){\n  const [hideCompleted, setHideCompleted] = useState(false);\n  const [pageSize, setPageSize] = useState(5);\n\n  const state = {\n    hideCompleted,\n    pageSize,\n    setHideCompleted,\n    setPageSize\n  }\n  \n  return (\n    <SettingsContext.Provider value={state}>\n      {props.children}\n    </SettingsContext.Provider>\n  )\n}\n\nexport default SettingsProvider;","import React from 'react';\nimport jwt from 'jsonwebtoken';\nimport { LoginContext } from './context.js';\n\nconst If = props => {\n  return !!props.condition ? props.children : null;\n};\n\n/**\n * Handles access control for specific components\n * @class Auth\n */\nclass Auth extends React.Component {\n  static contextType = LoginContext;\n\n  render() {\n    let okToRender = false;\n    let user = {};\n\n    try {\n      user = this.context.token\n        ? jwt.verify(this.context.token, 'supersecret')\n        : {};\n      \n\n      okToRender =\n        this.context.loggedIn &&\n        (this.props.capability\n          ? user.capabilities.includes(this.props.capability)\n          : true);\n    } catch (e) {}\n\n    return (\n      <If condition={okToRender}>\n        <div>{this.props.children}</div>\n      </If>\n    );\n  }\n}\n\nexport default Auth;\n","import React, {useContext, useEffect, useState } from \"react\";\r\nimport {SettingsContext} from '../settings';\r\nimport {When, If, Then, Else} from '../if/';\r\nimport Auth from '../auth/auth';\r\n\r\n\r\n\r\n/**\r\n * A component for the list of todo items\r\n * @param {*} props \r\n */\r\nconst TodoList = props => {\r\n  const list = props.list || [];\r\n  const context = useContext(SettingsContext);\r\n  const pageSize = context.pageSize;\r\n  const pages = [];\r\n  const currentPage = 0;\r\n\r\n\r\n  useEffect(()=>{\r\n       if (list.length < pageSize) {\r\n        pages.push(list);\r\n      }\r\n      for (let i = 0; i < list.length; i += pageSize) {\r\n        let page = list.slice(i, i + pageSize);\r\n        pages.push(page);\r\n      }\r\n      \r\n    \r\n  })\r\n\r\n  return (\r\n    <ul>\r\n      \r\n      <When condition={!context.hideCompleted}>\r\n        {list\r\n          .filter(item => !item.complete)\r\n          .map(item => (\r\n            <li\r\n              className={`complete-${item.complete.toString()}`}\r\n              key={item._id}\r\n            >\r\n              <Auth capability=\"read\">\r\n                <span onClick={() => props.handleComplete(item._id)}>\r\n                  {item.text}\r\n                </span>\r\n              </Auth>\r\n\r\n              <button onClick={() => props.handleDetails(item._id)}>\r\n                Details\r\n              </button>\r\n              <Auth capability=\"delete\">\r\n                <button onClick={() => props.handleDelete(item._id)}>\r\n                  Delete\r\n                </button>\r\n              </Auth>\r\n            </li>\r\n          ))}\r\n      </When>\r\n      <When condition={context.hideCompleted}>\r\n        {list.map(item => (\r\n          <li className={`complete-${item.complete.toString()}`} key={item._id}>\r\n            <Auth capability=\"read\">\r\n              <span onClick={() => props.handleComplete(item._id)}>\r\n                {item.text}\r\n              </span>\r\n            </Auth>\r\n\r\n            <button onClick={() => props.handleDetails(item._id)}>\r\n              Details\r\n            </button>\r\n            <Auth capability=\"delete\">\r\n              <button onClick={() => props.handleDelete(item._id)}>\r\n                Delete\r\n              </button>\r\n            </Auth>\r\n          </li>\r\n        ))}\r\n      </When>\r\n      <button\r\n        name=\"displayCompleted\"\r\n        onClick={() => context.setHideCompleted(!context.hideCompleted)}\r\n      >\r\n        Toggle Completed\r\n      </button>\r\n      <If condition={pages.length > 1}>\r\n        <Then>         \r\n          <button name=\"next\">Next</button>\r\n        </Then>\r\n      </If>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default TodoList;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./modal.module.scss\";\r\n\r\nconst Modal = props => {\r\n  return (\r\n    <div className={styles.modal}>\r\n      <div>\r\n        <header>\r\n          <span className=\"title\">{props.title}</span>\r\n          <button onClick={props.close}>X</button>\r\n        </header>\r\n        <div>{props.children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport Modal from \"../modal\";\r\n/**\r\n * Component for a single items details\r\n * @param {*} props \r\n */\r\nconst Item = props => {\r\n  const item = props.item || {};\r\n\r\n  return (\r\n    <Modal title=\"To Do Item\" close={props.handleDetails}>\r\n      <div className=\"todo-details\">\r\n        <header id=\"modalHead\">\r\n          <span>Assigned To: {item.assignee}</span>\r\n          <span>Due: {item.due}</span>\r\n        </header>\r\n        <div className=\"item\">{item.text}</div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport useFetch from \"../../hooks/fetch.js\";\r\nimport { When } from \"../if\";\r\nimport TodoForm from \"./form.js\";\r\nimport TodoList from \"./list.js\";\r\nimport TodoItem from \"./item.js\";\r\nimport {SettingsContext} from '../settings';\r\nimport Auth from '../auth/auth'\r\n\r\nimport \"./todo.scss\";\r\n\r\n\r\nconst todoAPI = \"https://api-js401.herokuapp.com/api/v1/todo\";\r\n/**\r\n * ToDo component\r\n */\r\nconst ToDo = () => {\r\n  const [todoList, setToDoList] = useState([]);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [showItem, setShowItem] = useState({});\r\n\r\n  \r\n  const { request, response, error, isLoading } = useFetch();\r\n\r\n  const context = useContext(SettingsContext);\r\n  /**\r\n   * Send a request to add an item to the DB\r\n   * @param {*} item \r\n   */\r\n  const _addItem = item => {\r\n    const addRequest = {\r\n      url: todoAPI,\r\n      options: {\r\n        method: \"post\",\r\n        body: JSON.stringify(item)\r\n      }\r\n    };\r\n    \r\n    request(addRequest);\r\n  };\r\n\r\n  useEffect(()=>{\r\n    document.title = `${todoList.filter(item => !item.complete).length} items to Complete`;\r\n  });\r\n  /**\r\n   * Send a request to delete an item from the DB\r\n   * @param {*} id \r\n   */\r\n  const _deleteItem = id => {\r\n    const deleteRequest = {\r\n      url: `${todoAPI}/${id}`,\r\n      options: {\r\n        method: \"delete\"\r\n      }\r\n    };\r\n    request(deleteRequest);\r\n  };\r\n  /**\r\n   * Toggle a todo item from complete to incomplete and vice versa\r\n   * @param {*} id \r\n   */\r\n  const _toggleComplete = id => {\r\n    let item = todoList.filter(i => i._id === id)[0] || {};\r\n    item.complete = !item.complete;\r\n    const updateRequest = {\r\n      url: `${todoAPI}/${id}`,\r\n      options: {\r\n        method: \"put\",\r\n        body: JSON.stringify(item)\r\n      }\r\n    };\r\n    request(updateRequest);\r\n  };\r\n  /**\r\n   * toggle the showing of details of a specific item\r\n   * @param {*} id \r\n   */\r\n  const _toggleDetails = id => {\r\n    setShowDetails(!showDetails); \r\n    let item = todoList.filter(item => item._id === id)[0];\r\n    setShowItem(item);\r\n  };\r\n\r\n  /**\r\n   * send a request to get all items from the DB\r\n   */\r\n  const _getAll = () => {\r\n    const req = {\r\n      url: todoAPI,\r\n      options: {\r\n        method: \"get\"\r\n      }\r\n    };\r\n    request(req);\r\n  };\r\n\r\n  \r\n  useEffect(() => {\r\n    _getAll();\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    \r\n    if (response.count >= 0) {\r\n      setToDoList(response.results);\r\n    }\r\n    \r\n    else {\r\n      _getAll();\r\n    }\r\n  }, [response]);\r\n\r\n  return (\r\n    <>\r\n      <Auth capability=\"read\">\r\n        <header>\r\n          <h2>\r\n            There are {todoList.filter(item => !item.complete).length} Items To\r\n            Complete\r\n          </h2>\r\n        </header>\r\n      </Auth>\r\n      <Auth>\r\n        <section className=\"todo\">\r\n          <div>\r\n            <Auth capability=\"create\">\r\n              <TodoForm handleSubmit={_addItem} />\r\n            </Auth>\r\n          </div>\r\n\r\n          <div>\r\n            <TodoList\r\n              list={todoList}\r\n              context={context}\r\n              handleComplete={_toggleComplete}\r\n              handleDelete={_deleteItem}\r\n              handleDetails={_toggleDetails}\r\n            />\r\n          </div>\r\n        </section>\r\n      </Auth>\r\n      <When condition={showDetails}>\r\n        <TodoItem handleDetails={_toggleDetails} item={showItem} />\r\n      </When>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ToDo;\r\n","import React from 'react';\nimport { LoginContext } from './context.js';\nimport superagent from 'superagent';\nimport {When} from '../if/';\n\nconst API = 'https://api-js401.herokuapp.com';\n\nconst If = props => {\n  return !!props.condition ? props.children : null;\n};\n/**\n * A component that handles authentication \n * @class Login\n */\nclass Login extends React.Component {\n  static contextType = LoginContext;\n  constructor(props) {\n    super(props);\n    this.state = { username: '', password: '' };\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  /**\n   * Handles the submit of the login form\n   * @params e\n   */\n  handleSubmit = e => {\n    //use the uid, pw, and superagent an API call to server for authentication\n    //and capabilities\n    e.preventDefault();\n    superagent\n      .post(`${API}/signin`)\n      .auth(this.state.username, this.state.password)\n      .set('mode', 'cors')\n      .then(response => {\n        let token = response.text;\n        this.context.login(token);\n      })\n      .catch(err => console.error(err));\n  };\n\n  render() {\n    return (\n      <>\n        <div id=\"login\">\n          <If condition={this.context.loggedIn}>\n            <button onClick={this.context.logout}>Log Out </button>\n          </If>\n          <If condition={!this.context.loggedIn}>\n            <h1 id=\"loginH\">Sign-in Todoodles</h1>\n            <form onSubmit={this.handleSubmit}>\n              <input\n                placeholder=\"username\"\n                name=\"username\"\n                onChange={this.handleChange}\n              />\n              <input\n                placeholder=\"password\"\n                name=\"password\"\n                onChange={this.handleChange}\n              />\n              <input type=\"submit\" value=\"login\" />\n            </form>\n          </If>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Login;\n","import React from \"react\";\nimport ToDo from \"./components/todo/todo.js\";\nimport SettingsContext  from './components/settings';\nimport AuthContext from './components/auth/context';\nimport Auth from './components/auth/auth';\nimport Login from './components/auth/login'\n\n\nexport default function App() {\n  return (\n    <>\n      <SettingsContext>\n        <Login />\n        \n          <ToDo />\n        \n      </SettingsContext>\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport LoginContext from './components/auth/context'\n\nimport App from \"./app.js\";\n\nfunction Main() {\n\n  return (\n    <LoginContext>\n      <App />\n    </LoginContext>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}